/* jQuery Form Plugin 3.36.0-2013.06.16 Copyright (c) 2013 M. Alsup */
(function(c){var b={};b.fileapi=c("<input type='file'/>").get(0).files!==undefined;b.formdata=window.FormData!==undefined;var f=!!c.fn.prop;c.fn.attr2=function(){if(!f){return this.attr.apply(this,arguments);}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g;}return this.attr.apply(this,arguments);};c.fn.ajaxSubmit=function(v){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this;}var H,t,y,F=this;if(typeof v=="function"){v={success:v};}H=v.type||this.attr2("method");t=v.url||this.attr2("action");y=(typeof t==="string")?c.trim(t):"";y=y||window.location.href||"";if(y){y=(y.match(/^([^#]+)/)||[])[1];}v=c.extend(true,{url:y,success:c.ajaxSettings.success,type:H||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},v);var C={};this.trigger("form-pre-serialize",[this,v,C]);if(C.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this;}if(v.beforeSerialize&&v.beforeSerialize(this,v)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this;}var s=v.traditional;if(s===undefined){s=c.ajaxSettings.traditional;}var z=[];var B,A=this.formToArray(v.semantic,z);if(v.data){v.extraData=v.data;B=c.param(v.data,s);}if(v.beforeSubmit&&v.beforeSubmit(A,this,v)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this;}this.trigger("form-submit-validate",[A,this,v,C]);if(C.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this;}var p=c.param(A,s);if(B){p=(p?(p+"&"+B):B);}if(v.type.toUpperCase()=="GET"){v.url+=(v.url.indexOf("?")>=0?"&":"?")+p;v.data=null;}else{v.data=p;}var x=[];if(v.resetForm){x.push(function(){F.resetForm();});}if(v.clearForm){x.push(function(){F.clearForm(v.includeHidden);});}if(!v.dataType&&v.target){var E=v.success||function(){};x.push(function(k){var q=v.replaceTarget?"replaceWith":"html";c(v.target)[q](k).each(E,arguments);});}else{if(v.success){x.push(v.success);}}v.success=function(K,J,k){var I=v.context||this;for(var q=0,L=x.length;q<L;q++){x[q].apply(I,[K,J,k||F,F]);}};if(v.error){var o=v.error;v.error=function(k,I,J){var q=v.context||this;o.apply(q,[k,I,J,F]);};}if(v.complete){var n=v.complete;v.complete=function(k,q){var I=v.context||this;n.apply(I,[k,q,F]);};}var r=c('input[type=file]:enabled[value!=""]',this);var g=r.length>0;var G="multipart/form-data";var u=(F.attr("enctype")==G||F.attr("encoding")==G);var D=b.fileapi&&b.formdata;d("fileAPI :"+D);var j=(g||u)&&!D;var h;if(v.iframe!==false&&(v.iframe||j)){if(v.closeKeepAlive){c.get(v.closeKeepAlive,function(){h=m(A);});}else{h=m(A);}}else{if((g||u)&&D){h=l(A);}else{h=c.ajax(v);}}F.removeData("jqxhr").data("jqxhr",h);for(var w=0;w<z.length;w++){z[w]=null;}this.trigger("form-submit-notify",[this,v]);return this;function i(L){var K=c.param(L,v.traditional).split("&");var J=K.length;var k=[];var q,I;for(q=0;q<J;q++){K[q]=K[q].replace(/\+/g," ");I=K[q].split("=");k.push([decodeURIComponent(I[0]),decodeURIComponent(I[1])]);}return k;}function l(J){var I=new FormData();for(var k=0;k<J.length;k++){I.append(J[k].name,J[k].value);}if(v.extraData){var K=i(v.extraData);for(k=0;k<K.length;k++){if(K[k]){I.append(K[k][0],K[k][1]);}}}v.data=null;var L=c.extend(true,{},c.ajaxSettings,v,{contentType:false,processData:false,cache:false,type:H||"POST"});if(v.uploadProgress){L.xhr=function(){var M=c.ajaxSettings.xhr();if(M.upload){M.upload.addEventListener("progress",function(P){var O=0;var N=P.loaded||P.position;var Q=P.total;if(P.lengthComputable){O=Math.ceil(N/Q*100);}v.uploadProgress(P,N,Q,O);},false);}return M;};}L.data=null;var q=L.beforeSend;L.beforeSend=function(N,M){M.data=I;if(q){q.call(this,N,M);}};return c.ajax(L);}function m(ab){var N=F[0],R,K,O,Q,I,J,P,V,U,L,Z,ah;var X=c.Deferred();if(ab){for(K=0;K<z.length;K++){R=c(z[K]);if(f){R.prop("disabled",false);}else{R.removeAttr("disabled");}}}O=c.extend(true,{},c.ajaxSettings,v);O.context=O.context||O;I="jqFormIO"+(new Date().getTime());if(O.iframeTarget){J=c(O.iframeTarget);L=J.attr2("name");if(!L){J.attr2("name",I);}else{I=L;}}else{J=c('<iframe name="'+I+'" src="'+O.iframeSrc+'" />');J.css({position:"absolute",top:"-1000px",left:"-1000px"});}P=J[0];V={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(ak){var al=(ak==="timeout"?"timeout":"aborted");d("aborting upload... "+al);this.aborted=1;try{if(P.contentWindow.document.execCommand){P.contentWindow.document.execCommand("Stop");}}catch(aj){}J.attr("src",O.iframeSrc);V.error=al;if(O.error){O.error.call(O.context,V,al,ak);}if(Q){c.event.trigger("ajaxError",[V,O,al]);}if(O.complete){O.complete.call(O.context,V,al);}}};Q=O.global;if(Q&&0===c.active++){c.event.trigger("ajaxStart");}if(Q){c.event.trigger("ajaxSend",[V,O]);}if(O.beforeSend&&O.beforeSend.call(O.context,V,O)===false){if(O.global){c.active--;}X.reject();return X;}if(V.aborted){X.reject();return X;}U=N.clk;if(U){L=U.name;if(L&&!U.disabled){O.extraData=O.extraData||{};O.extraData[L]=U.value;if(U.type=="image"){O.extraData[L+".x"]=N.clk_x;O.extraData[L+".y"]=N.clk_y;}}}var ag=1;var Y=2;function aa(ak){var aj=null;try{if(ak.contentWindow){aj=ak.contentWindow.document;}}catch(al){d("cannot get iframe.contentWindow document: "+al);}if(aj){return aj;}try{aj=ak.contentDocument?ak.contentDocument:ak.document;}catch(al){d("cannot get iframe.contentDocument: "+al);aj=ak.document;}return aj;}var S=c("meta[name=csrf-token]").attr("content");var k=c("meta[name=csrf-param]").attr("content");if(k&&S){O.extraData=O.extraData||{};O.extraData[k]=S;}function af(){var ap=F.attr2("target"),an=F.attr2("action");N.setAttribute("target",I);if(!H){N.setAttribute("method","POST");}if(an!=O.url){N.setAttribute("action",O.url);}if(!O.skipEncodingOverride&&(!H||/post/i.test(H))){F.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});}if(O.timeout){ah=setTimeout(function(){Z=true;W(ag);},O.timeout);}function ak(){try{var ar=aa(P).readyState;d("state = "+ar);if(ar&&ar.toLowerCase()=="uninitialized"){setTimeout(ak,50);}}catch(aq){d("Server abort: ",aq," (",aq.name,")");W(Y);if(ah){clearTimeout(ah);}ah=undefined;}}var ao=[];try{if(O.extraData){for(var al in O.extraData){if(O.extraData.hasOwnProperty(al)){if(c.isPlainObject(O.extraData[al])&&O.extraData[al].hasOwnProperty("name")&&O.extraData[al].hasOwnProperty("value")){ao.push(c('<input type="hidden" name="'+O.extraData[al].name+'">').val(O.extraData[al].value).appendTo(N)[0]);}else{ao.push(c('<input type="hidden" name="'+al+'">').val(O.extraData[al]).appendTo(N)[0]);}}}}if(!O.iframeTarget){J.appendTo("body");if(P.attachEvent){P.attachEvent("onload",W);}else{P.addEventListener("load",W,false);}}setTimeout(ak,15);try{N.submit();}catch(am){var aj=document.createElement("form").submit;aj.apply(N);}}finally{N.setAttribute("action",an);if(ap){N.setAttribute("target",ap);}else{F.removeAttr("target");}c(ao).remove();}}if(O.forceSync){af();}else{setTimeout(af,10);}var M,T,ac=50,ai;function W(at){if(V.aborted||ai){return;}T=aa(P);if(!T){d("cannot access response document");at=Y;}if(at===ag&&V){V.abort("timeout");X.reject(V,"timeout");return;}else{if(at==Y&&V){V.abort("server abort");X.reject(V,"error","server abort");return;}}if(!T||T.location.href==O.iframeSrc){if(!Z){return;}}if(P.detachEvent){P.detachEvent("onload",W);}else{P.removeEventListener("load",W,false);}var ak="success",ap;try{if(Z){throw"timeout";}var al=O.dataType=="xml"||T.XMLDocument||c.isXMLDoc(T);d("isXml="+al);if(!al&&window.opera&&(T.body===null||!T.body.innerHTML)){if(--ac){d("requeing onLoad callback, DOM not available");setTimeout(W,250);return;}}var am=T.body?T.body:T.documentElement;V.responseText=am?am.innerHTML:null;V.responseXML=T.XMLDocument?T.XMLDocument:T;if(al){O.dataType="xml";}V.getResponseHeader=function(av){var aw={"content-type":O.dataType};return aw[av];};if(am){V.status=Number(am.getAttribute("status"))||V.status;V.statusText=am.getAttribute("statusText")||V.statusText;}var aj=(O.dataType||"").toLowerCase();var an=/(json|script|text)/.test(aj);if(an||O.textarea){var au=T.getElementsByTagName("textarea")[0];if(au){V.responseText=au.value;V.status=Number(au.getAttribute("status"))||V.status;V.statusText=au.getAttribute("statusText")||V.statusText;}else{if(an){var ao=T.getElementsByTagName("pre")[0];var ar=T.getElementsByTagName("body")[0];if(ao){V.responseText=ao.textContent?ao.textContent:ao.innerText;}else{if(ar){V.responseText=ar.textContent?ar.textContent:ar.innerText;}}}}}else{if(aj=="xml"&&!V.responseXML&&V.responseText){V.responseXML=q(V.responseText);}}try{M=ad(V,aj,O);}catch(aq){ak="parsererror";V.error=ap=(aq||ak);}}catch(aq){d("error caught: ",aq);ak="error";V.error=ap=(aq||ak);}if(V.aborted){d("upload aborted");ak=null;}if(V.status){ak=(V.status>=200&&V.status<300||V.status===304)?"success":"error";}if(ak==="success"){if(O.success){O.success.call(O.context,M,"success",V);}X.resolve(V.responseText,"success",V);if(Q){c.event.trigger("ajaxSuccess",[V,O]);}}else{if(ak){if(ap===undefined){ap=V.statusText;}if(O.error){O.error.call(O.context,V,ak,ap);}X.reject(V,"error",ap);if(Q){c.event.trigger("ajaxError",[V,O,ap]);}}}if(Q){c.event.trigger("ajaxComplete",[V,O]);}if(Q&&!--c.active){c.event.trigger("ajaxStop");}if(O.complete){O.complete.call(O.context,V,ak);}ai=true;if(O.timeout){clearTimeout(ah);}setTimeout(function(){if(!O.iframeTarget){J.remove();}V.responseXML=null;},100);}var q=c.parseXML||function(ak,aj){if(window.ActiveXObject){aj=new ActiveXObject("Microsoft.XMLDOM");aj.async="false";aj.loadXML(ak);}else{aj=(new DOMParser()).parseFromString(ak,"text/xml");}return(aj&&aj.documentElement&&aj.documentElement.nodeName!="parsererror")?aj:null;};var ae=c.parseJSON||function(aj){return window["eval"]("("+aj+")");};var ad=function(aj,an,ao){var ak=aj.getResponseHeader("content-type")||"",al=an==="xml"||!an&&ak.indexOf("xml")>=0,am=al?aj.responseXML:aj.responseText;if(al&&am.documentElement.nodeName==="parsererror"){if(c.error){c.error("parsererror");}}if(ao&&ao.dataFilter){am=ao.dataFilter(am,an);}if(typeof am==="string"){if(an==="json"||!an&&ak.indexOf("json")>=0){am=ae(am);}else{if(an==="script"||!an&&ak.indexOf("javascript")>=0){c.globalEval(am);}}}return am;};return X;}};c.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&c.isFunction(c.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!c.isReady&&h.s){d("DOM not ready, queuing ajaxForm");c(function(){c(h.s,h.c).ajaxForm(g);});return this;}d("terminating; zero elements found by selector"+(c.isReady?"":" (DOM not ready)"));return this;}if(g.delegation){c(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,e).on("click.form-plugin",this.selector,g,a);return this;}return this.ajaxFormUnbind().bind("submit.form-plugin",g,e).bind("click.form-plugin",g,a);};function e(g){var h=g.data;if(!g.isDefaultPrevented()){g.preventDefault();c(this).ajaxSubmit(h);}}function a(k){var i=k.target;var g=c(i);if(!(g.is("[type=submit],[type=image]"))){var l=g.closest("[type=submit]");if(l.length===0){return;}i=l[0];}var h=this;h.clk=i;if(i.type=="image"){if(k.offsetX!==undefined){h.clk_x=k.offsetX;h.clk_y=k.offsetY;}else{if(typeof c.fn.offset=="function"){var j=g.offset();h.clk_x=k.pageX-j.left;h.clk_y=k.pageY-j.top;}else{h.clk_x=k.pageX-i.offsetLeft;h.clk_y=k.pageY-i.offsetTop;}}}setTimeout(function(){h.clk=h.clk_x=h.clk_y=null;},100);}c.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin");};c.fn.formToArray=function(k,t){var u=[];if(this.length===0){return u;}var m=this[0];var h=k?m.getElementsByTagName("*"):m.elements;if(!h){return u;}var q,r,s,p,g,y,w;for(q=0,y=h.length;q<y;q++){g=h[q];s=g.name;if(!s||g.disabled){continue;}if(k&&m.clk&&g.type=="image"){if(m.clk==g){u.push({name:s,value:c(g).val(),type:g.type});u.push({name:s+".x",value:m.clk_x},{name:s+".y",value:m.clk_y});}continue;}p=c.fieldValue(g,true);if(p&&p.constructor==Array){if(t){t.push(g);}for(r=0,w=p.length;r<w;r++){u.push({name:s,value:p[r]});}}else{if(b.fileapi&&g.type=="file"){if(t){t.push(g);}var l=g.files;if(l.length){for(r=0;r<l.length;r++){u.push({name:s,value:l[r],type:g.type});}}else{u.push({name:s,value:"",type:g.type});}}else{if(p!==null&&typeof p!="undefined"){if(t){t.push(g);}u.push({name:s,value:p,type:g.type,required:g.required});}}}}if(!k&&m.clk){var o=c(m.clk),x=o[0];s=x.name;if(s&&!x.disabled&&x.type=="image"){u.push({name:s,value:o.val()});u.push({name:s+".x",value:m.clk_x},{name:s+".y",value:m.clk_y});}}return u;};c.fn.formSerialize=function(g){return c.param(this.formToArray(g));};c.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return;}var l=c.fieldValue(this,h);if(l&&l.constructor==Array){for(var j=0,k=l.length;j<k;j++){g.push({name:m,value:l[j]});}}else{if(l!==null&&typeof l!="undefined"){g.push({name:this.name,value:l});}}});return c.param(g);};c.fn.fieldValue=function(g){for(var j=[],h=0,l=this.length;h<l;h++){var k=this[h];var m=c.fieldValue(k,g);if(m===null||typeof m=="undefined"||(m.constructor==Array&&!m.length)){continue;}if(m.constructor==Array){c.merge(j,m);}else{j.push(m);}}return j;};c.fieldValue=function(h,o){var q=h.name,j=h.type,m=h.tagName.toLowerCase();if(o===undefined){o=true;}if(o&&(!q||h.disabled||j=="reset"||j=="button"||(j=="checkbox"||j=="radio")&&!h.checked||(j=="submit"||j=="image")&&h.form&&h.form.clk!=h||m=="select"&&h.selectedIndex==-1)){return null;}if(m=="select"){var p=h.selectedIndex;if(p<0){return null;}var s=[],g=h.options;var r=(j=="select-one");var u=(r?p+1:g.length);for(var l=(r?p:0);l<u;l++){var w=g[l];if(w.selected){var k=w.value;if(!k){k=(w.attributes&&w.attributes.value&&!(w.attributes.value.specified))?w.text:w.value;}if(r){return k;}s.push(k);}}return s;}return c(h).val();};c.fn.clearForm=function(g){return this.each(function(){c("input,select,textarea",this).clearFields(g);});};c.fn.clearFields=c.fn.clearInputs=function(h){var g=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var j=this.type,i=this.tagName.toLowerCase();if(g.test(j)||i=="textarea"){this.value="";}else{if(j=="checkbox"||j=="radio"){this.checked=false;}else{if(i=="select"){this.selectedIndex=-1;}else{if(j=="file"){if(/MSIE/.test(navigator.userAgent)){c(this).replaceWith(c(this).clone(true));}else{c(this).val("");}}else{if(h){if((h===true&&/hidden/.test(j))||(typeof h=="string"&&c(this).is(h))){this.value="";}}}}}}});};c.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset();}});};c.fn.enable=function(g){if(g===undefined){g=true;}return this.each(function(){this.disabled=!g;});};c.fn.selected=function(g){if(g===undefined){g=true;}return this.each(function(){var i=this.type;if(i=="checkbox"||i=="radio"){this.checked=g;}else{if(this.tagName.toLowerCase()=="option"){var h=c(this).parent("select");if(g&&h[0]&&h[0].type=="select-one"){h.find("option").selected(false);}this.selected=g;}}});};c.fn.ajaxSubmit.debug=false;function d(){if(!c.fn.ajaxSubmit.debug){return;}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g);}else{if(window.opera&&window.opera.postError){window.opera.postError(g);}}}})(jQuery);